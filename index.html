<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TrueMan Diagnostics</title>
  <link rel="icon" type="image/png" href="./assets/favicon.png">

  <link href="./assets/css/style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" defer></script>
  <script src="./assets/js/app.js" defer></script>
  <!-- PWA Manifest -->
  <link rel="manifest" href="./manifest.json">
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#0d6efd">
  <!-- Register Service Worker -->
  <script>
  if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
      .then(function(registration) {
          console.log('Service Worker registered with scope:', registration.scope);
      }).catch(function(error) {
          console.log('Service Worker registration failed:', error);
      });
  }
</script>

</head>
<body class="bg-light">

<!-- Main Layout Hidden Initially -->
<div id="mainLayout" style="display:none;">
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">TrueMan Diagnostics</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
      <!-- Left Side: Navigation Links -->
      <ul class="navbar-nav me-auto">
  <li class="nav-item">
    <a class="nav-link" href="#" id="dashboardTab">Dashboard</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#" id="consoleTab">Console</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#" id="controlTab">Control</a>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="modbusDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      Modbus Devices
    </a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item modbus-tab" href="#" data-page="bldc1">BLDC1</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="bldc2">BLDC2</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="bldc3">BLDC3</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="controller">Controller</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="brush1">Brush1</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="brush2">Brush2</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="stepper1">Stepper1</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="stepper2">Stepper2</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="linak1">Linak1</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="linak2">Linak2</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="hopper">Hopper</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="elevator">Elevator</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="eleboard">EleBoard</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="ledserver">LedServer</a></li>
      <li><a class="dropdown-item modbus-tab" href="#" data-page="ledpanel11">LedPanel11</a></li>
    </ul>
  </li>
</ul>
<ul class="navbar-nav ms-auto">
  <li class="nav-item d-none" id="logoutNavItem">
    <a class="nav-link text-warning" href="#" id="logoutBtn">Logout</a>
  </li>
  <li class="nav-item">
    <button id="disconnectBtnNav" class="btn btn-danger ms-2">Disconnect</button>
  </li>
</ul>
    </div>
  </div>
</nav>


  <div class="container py-4" id="appContent"></div>
</div>

<!-- Connect Layout -->
<div class="container py-5" id="connectLayout"></div>
<div aria-live="polite" aria-atomic="true" class="position-fixed bottom-0 end-0 p-3" style="z-index: 1055;">
  <div id="bleToast" class="toast bg-success text-white" role="alert" data-bs-delay="3000">
    <div class="toast-body">âœ… ACK received!</div>
  </div>
</div>
</body>
</html>
